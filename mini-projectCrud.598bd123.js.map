{"mappings":"AEAe,SAAA,EAAgB,CAAK,EAyBhC,OAxBqB,EACpB,GAAG,CAAC,AAAC,GACY;AACa,mCAAA,EAAE,EAAO,EAAE,CAAC;AACd,iCAAA,EAAE,EAAO,QAAQ,CAAC;AAC3B,wBAAA,EAAE,EAAO,QAAQ,CAAC;A;A;A;AAIJ,sCAAA,EAAE,EAAO,KAAK,CAAC;A;A;A;AAIrC,gBAAA,EAAE,EAAO,QAAQ;A;A;A;A;A;AAM7B,IAAA,CAAC,EAIA,IAAI,CAAC,GAEV,CC1Be,eAAA,IACb,GAAI,CACF,OAAO,MAAM,MAAM,qDAClB,IAAI,CAAC,AAAC,GAAQ,EAAI,IAAI,GACzB,CAAE,MAAO,EAAO,CACd,QAAQ,GAAG,CAAC,EACd,CACF,CCPe,eAAA,EAAuB,CAAI,EACxC,GAAI,CACF,OAAO,MAAM,MAAM,oDAAqD,CACpE,OAAQ,OACR,KAAM,KAAK,SAAS,CAAC,GACrB,QAAS,CACT,eAAgB,iCAChB,CACJ,GAAG,IAAI,CAAC,AAAC,GAAQ,EAAI,IAAI,GAC3B,CAAE,MAAO,EAAO,CACd,QAAQ,GAAG,CAAC,EAChB,CACA,CCZe,eAAA,EAA0B,CAAQ,CAAE,CAAE,EACnD,GAAI,CACF,OAAO,MAAM,MAAM,CAAC,kDAAkD,EAAE,EAAA,CAAI,CAAE,CAC1E,OAAQ,MACR,QAAS,CACT,eAAgB,kBAChB,EACA,KAAM,KAAK,SAAS,CAAC,EACzB,GAAG,IAAI,CAAC,AAAC,GAAQ,EAAI,IAAI,GAC3B,CAAE,MAAO,EAAO,CACd,GAAI,CAAC,IAAI,EAAE,CAAE,MAAM,AAAI,MAAM,yBAC7B,OAAO,IAAI,IAAI,EACnB,CACA,CCbe,eAAA,EAA0B,CAAE,EACzC,GAAI,CACF,OAAO,MAAM,MAAM,CAAC,kDAAkD,EAAE,EAAA,CAAI,CAAE,CAC1E,OAAQ,QACZ,EACF,CAAE,MAAO,EAAO,CACd,QAAQ,GAAG,CAAC,EACd,CACF,CCRe,eAAA,EAA2B,CAAK,CAAE,CAAE,EACjD,GAAI,CACF,OAAO,MAAM,MAAM,CAAC,kDAAkD,EAAE,EAAA,CAAI,CAAE,CAC1E,OAAQ,MACR,QAAS,CACT,eAAgB,kBAChB,EACA,KAAM,KAAK,SAAS,CAAC,CAAE,MAAO,CAAM,EACxC,GAAG,IAAI,CAAC,AAAC,GAAQ,EAAI,IAAI,GAC3B,CAAE,MAAO,EAAO,CACd,QAAQ,GAAG,CAAC,EAChB,CACA,CNFA,SAAS,aAAa,CAAC,QAAQ,gBAAgB,CAAC,QAAS,KACvD,SAAS,aAAa,CAAC,mBAAmB,SAAS,CAAC,MAAM,CAAC,SAC7D,GAEA,SAAS,aAAa,CAAC,gBAAgB,gBAAgB,CAAC,QAAS,KAC/D,SAAS,aAAa,CAAC,mBAAmB,SAAS,CAAC,GAAG,CAAC,SAC1D,GAEA,SAAS,aAAa,CAAC,oBAAoB,gBAAgB,CAAC,QAAS,KACnE,SAAS,aAAa,CAAC,uBAAuB,SAAS,CAAC,GAAG,CAAC,SAC9D,GAIA,AAAA,IAAW,IAAI,CACX,AAAC,IACG,QAAQ,GAAG,CAAC,GACZ,SAAS,aAAa,CAAC,UAAU,SAAS,CAAG,AAAA,EAAO,EAExD,GAGJ,SAAS,aAAa,CAAC,kBAAkB,gBAAgB,CAAC,SAAU,AAAC,IACjE,EAAE,cAAc,GAChB,IAAM,EAAW,EAAE,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,CAGtC,EAAa,CACf,SAHa,EAAE,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAI7C,SAAU,EACV,MAAO,EACP,SAAU,CACd,EACA,QAAQ,GAAG,CAAC,GACZ,AAAA,EAAQ,GAAY,IAAI,CAAC,KACrB,AAAA,IAAW,IAAI,CAAC,AAAC,IACb,SAAS,aAAa,CAAC,UAAU,SAAS,CAAG,AAAA,EAAO,GACpD,SAAS,aAAa,CAAC,mBAAmB,SAAS,CAAC,GAAG,CAAC,SAChE,EAAE,GAEF,EAAE,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAG,GACnC,EAAE,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAG,EAChC,GAGF,SAAS,aAAa,CAAC,UAAU,gBAAgB,CAAC,QAAS,AAAC,IACxD,GAAI,EAAE,MAAM,CAAC,OAAO,CAAC,gBAAgB,CACjC,IAAM,EAAa,EAAE,MAAM,CAAC,OAAO,CAAC,gBAC9B,EAAW,EAAW,OAAO,CAAC,cAC9B,EAAS,EAAS,OAAO,CAAC,EAAE,CAC5B,EAAe,EAAS,aAAa,CAAC,YACxC,EAAQ,OAAO,EAAa,WAAW,EAEvC,EAAW,SAAS,CAAC,QAAQ,CAAC,YAGlC,EAAa,WAAW,CADxB,GAAS,EAET,EAAW,SAAS,CAAC,GAAG,CAAC,UACzB,AAAA,EAAY,EAAO,GACvB,CACJ,GAEA,SAAS,aAAa,CAAC,UAAU,gBAAgB,CAAC,QAAS,AAAC,IACpD,EAAE,MAAM,CAAC,OAAO,CAAC,YAGjB,AAAA,EADW,AADM,EAAE,MAAM,CAAC,OAAO,CAAC,cACd,YAAY,CAAC,YAClB,IAAI,CAAC,KAChB,AAAA,IAAW,IAAI,CAAC,AAAC,IACb,QAAQ,GAAG,CAAC,GACZ,SAAS,aAAa,CAAC,UAAU,SAAS,CAAG,AAAA,EAAO,EACxD,EAAE,EACT,GAML,IAAI,EAAS,KACb,SAAS,aAAa,CAAC,UAAU,gBAAgB,CAAC,QAAS,AAAC,IAC1D,GAAI,EAAE,MAAM,CAAC,OAAO,CAAC,SAAU,CAC7B,IAAM,EAAW,EAAE,MAAM,CAAC,OAAO,CAAC,SAAS,OAAO,CAAC,cACnD,EAAS,EAAS,OAAO,CAAC,EAAE,CAE5B,SAAS,aAAa,CAAC,aAAa,KAAK,CAAG,EAAS,aAAa,CAAC,SAAS,WAAW,CACvF,SAAS,aAAa,CAAC,QAAQ,KAAK,CAAG,EAAS,aAAa,CAAC,eAAe,GAAG,CAEhF,SAAS,aAAa,CAAC,uBAAuB,SAAS,CAAC,MAAM,CAAC,SACjE,CACF,GAEA,QAAQ,GAAG,CAAC,GAEZ,SAAS,aAAa,CAAC,gBAAgB,gBAAgB,CAAC,QAAS,KAC/D,IAAM,EAAc,CACd,SAAU,SAAS,aAAa,CAAC,aAAa,KAAK,CACnD,SAAU,SAAS,aAAa,CAAC,QAAQ,KAAK,AAClD,EACA,QAAQ,GAAG,CAAC,GACZ,QAAQ,GAAG,CAAC,GACZ,AAAA,EAAW,EAAa,GAAQ,IAAI,CAAC,IAAM,AAAA,KAAY,IAAI,CAAC,AAAC,IACzD,SAAS,aAAa,CAAC,UAAU,SAAS,CAAG,AAAA,EAAO,GACpD,SAAS,aAAa,CAAC,uBAAuB,SAAS,CAAC,GAAG,CAAC,SAChE,GACK,KAAK,CAAC,AAAA,IACH,QAAQ,KAAK,CAAC,uBAAwB,EAC9C,EACJ","sources":["<anon>","src/js/script.js","src/js/render.js","src/js/api/get.js","src/js/api/post.js","src/js/api/edit.js","src/js/api/delete.js","src/js/api/updateLikes.js"],"sourcesContent":["function $7fdb1a51114ea38b$export$2e2bcd8739ae039(posts) {\n    const objectChange = posts.map((object)=>{\n        const newObject = `\n    <li class=\"post-card\" data-id=\"${object.id}\">\n    <img class=\"photo-post\" src=\"${object.imageUrl}\" alt=\"photo\" />\n        <p class=\"user\">${object.userName}</p>\n        <div class=\"stats\">\n            <p id=\"like\" class=\"stats-item\">\n                <button class=\"like-button\"><i class=\"material-icons\">thumb_up</i></button>\n                <span class=\"likes-p\">${object.likes}</span>\n            </p>\n            <p id=\"comment\" class=\"stats-item\">\n                <button class=\"comment-button\"><i class=\"material-icons\">comment</i></button>\n                ${object.comments}\n            </p>\n        </div>\n        <button type=\"click\" class=\"edit\">Edit</button>\n        <button type=\"click\" class=\"delete\">Delete</button>\n    </li>\n    `;\n        return newObject;\n    }).join(\"\");\n    return objectChange;\n}\n\n\nasync function $22b8530da6846ac4$export$2e2bcd8739ae039() {\n    try {\n        return await fetch(\"https://6882a21521fa24876a9b6374.mockapi.io/posts\").then((res)=>res.json());\n    } catch (error) {\n        console.log(error);\n    }\n}\n\n\nasync function $ce473e9f5c47e611$export$2e2bcd8739ae039(post) {\n    try {\n        return await fetch(\"https://6882a21521fa24876a9b6374.mockapi.io/posts\", {\n            method: \"POST\",\n            body: JSON.stringify(post),\n            headers: {\n                \"Content-Type\": \"application/json; charset=UTF-8\"\n            }\n        }).then((res)=>res.json());\n    } catch (error) {\n        console.log(error);\n    }\n}\n\n\nasync function $5c069ed34b67705e$export$2e2bcd8739ae039(postData, id) {\n    try {\n        return await fetch(`https://6882a21521fa24876a9b6374.mockapi.io/posts/${id}`, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(postData)\n        }).then((res1)=>res1.json());\n    } catch (error) {\n        if (!res.ok) throw new Error(\"Failed to update post\");\n        return res.json();\n    }\n}\n\n\nasync function $664319a40c8061e6$export$2e2bcd8739ae039(id) {\n    try {\n        return await fetch(`https://6882a21521fa24876a9b6374.mockapi.io/posts/${id}`, {\n            method: \"DELETE\"\n        });\n    } catch (error) {\n        console.log(error);\n    }\n}\n\n\nasync function $eae13960f3cf2c04$export$2e2bcd8739ae039(likes, id) {\n    try {\n        return await fetch(`https://6882a21521fa24876a9b6374.mockapi.io/posts/${id}`, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                likes: likes\n            })\n        }).then((res)=>res.json());\n    } catch (error) {\n        console.log(error);\n    }\n}\n\n\ndocument.querySelector('.add').addEventListener('click', ()=>{\n    document.querySelector('.modal-backdrop').classList.remove('hidden');\n});\ndocument.querySelector('.close-modal').addEventListener('click', ()=>{\n    document.querySelector('.modal-backdrop').classList.add('hidden');\n});\ndocument.querySelector('.close-modalEdit').addEventListener('click', ()=>{\n    document.querySelector('.modal-backdropEdit').classList.add('hidden');\n});\n(0, $22b8530da6846ac4$export$2e2bcd8739ae039)().then((data)=>{\n    console.log(data);\n    document.querySelector(\".posts\").innerHTML = (0, $7fdb1a51114ea38b$export$2e2bcd8739ae039)(data);\n});\ndocument.querySelector('#new-post-form').addEventListener('submit', (e)=>{\n    e.preventDefault();\n    const imageUrl = e.target.elements.url.value;\n    const userName = e.target.elements.Username.value;\n    const postObject = {\n        userName: userName,\n        imageUrl: imageUrl,\n        likes: 0,\n        comments: 0\n    };\n    console.log(postObject);\n    (0, $ce473e9f5c47e611$export$2e2bcd8739ae039)(postObject).then(()=>{\n        (0, $22b8530da6846ac4$export$2e2bcd8739ae039)().then((data)=>{\n            document.querySelector(\".posts\").innerHTML = (0, $7fdb1a51114ea38b$export$2e2bcd8739ae039)(data);\n            document.querySelector('.modal-backdrop').classList.add('hidden');\n        });\n    });\n    e.target.elements.Username.value = \"\";\n    e.target.elements.url.value = \"\";\n});\ndocument.querySelector('.posts').addEventListener('click', (e)=>{\n    if (e.target.closest('.like-button')) {\n        const likeButton = e.target.closest('.like-button');\n        const postCard = likeButton.closest('.post-card');\n        const postId = postCard.dataset.id;\n        const likesElement = postCard.querySelector('.likes-p');\n        let likes = Number(likesElement.textContent);\n        if (likeButton.classList.contains('.liked')) return;\n        likes += 1;\n        likesElement.textContent = likes;\n        likeButton.classList.add('.liked');\n        (0, $eae13960f3cf2c04$export$2e2bcd8739ae039)(likes, postId);\n    }\n});\ndocument.querySelector('.posts').addEventListener('click', (e)=>{\n    if (e.target.closest('.delete')) {\n        const postCard = e.target.closest('.post-card');\n        const id = postCard.getAttribute('data-id');\n        (0, $664319a40c8061e6$export$2e2bcd8739ae039)(id).then(()=>{\n            (0, $22b8530da6846ac4$export$2e2bcd8739ae039)().then((data)=>{\n                console.log(data);\n                document.querySelector(\".posts\").innerHTML = (0, $7fdb1a51114ea38b$export$2e2bcd8739ae039)(data);\n            });\n        });\n    }\n});\nlet $3fba0bda95caa784$var$postId = null;\ndocument.querySelector('.posts').addEventListener('click', (e)=>{\n    if (e.target.closest('.edit')) {\n        const postCard = e.target.closest('.edit').closest('.post-card');\n        $3fba0bda95caa784$var$postId = postCard.dataset.id;\n        document.querySelector('#username').value = postCard.querySelector('.user').textContent;\n        document.querySelector('#url').value = postCard.querySelector('.photo-post').src;\n        document.querySelector('.modal-backdropEdit').classList.remove('hidden');\n    }\n});\nconsole.log($3fba0bda95caa784$var$postId);\ndocument.querySelector('.edit-button').addEventListener('click', ()=>{\n    const updatedPost = {\n        userName: document.querySelector('#username').value,\n        imageUrl: document.querySelector('#url').value\n    };\n    console.log(updatedPost);\n    console.log($3fba0bda95caa784$var$postId);\n    (0, $5c069ed34b67705e$export$2e2bcd8739ae039)(updatedPost, $3fba0bda95caa784$var$postId).then(()=>(0, $22b8530da6846ac4$export$2e2bcd8739ae039)()).then((data)=>{\n        document.querySelector(\".posts\").innerHTML = (0, $7fdb1a51114ea38b$export$2e2bcd8739ae039)(data);\n        document.querySelector('.modal-backdropEdit').classList.add('hidden');\n    }).catch((error)=>{\n        console.error('Error updating post:', error);\n    });\n});\n\n\n//# sourceMappingURL=mini-projectCrud.598bd123.js.map\n","import { default as render } from \"./render\"\r\nimport { default as getPosts } from \"./api/get\"\r\nimport { default as addPost } from \"./api/post\"\r\nimport { default as updatePost } from \"./api/edit\"\r\nimport { default as deletePost } from \"./api/delete\"\r\nimport { default as updateLikes } from \"./api/updateLikes\"\r\n\r\n\r\n\r\n\r\ndocument.querySelector('.add').addEventListener('click', () => {\r\n  document.querySelector('.modal-backdrop').classList.remove('hidden');\r\n});\r\n\r\ndocument.querySelector('.close-modal').addEventListener('click', () => {\r\n  document.querySelector('.modal-backdrop').classList.add('hidden');\r\n});\r\n\r\ndocument.querySelector('.close-modalEdit').addEventListener('click', () => {\r\n  document.querySelector('.modal-backdropEdit').classList.add('hidden');\r\n});\r\n\r\n\r\n\r\ngetPosts().then(\r\n    (data) =>{\r\n        console.log(data);\r\n        document.querySelector(\".posts\").innerHTML = render(data);\r\n\r\n    }\r\n  );\r\n\r\ndocument.querySelector('#new-post-form').addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n    const imageUrl = e.target.elements.url.value;\r\n    const userName = e.target.elements.Username.value;\r\n\r\n    const postObject = {\r\n        userName: userName,\r\n        imageUrl: imageUrl,\r\n        likes: 0,\r\n        comments: 0\r\n    };\r\n    console.log(postObject)\r\n    addPost(postObject).then(() => {\r\n        getPosts().then((data) => {\r\n            document.querySelector(\".posts\").innerHTML = render(data);\r\n            document.querySelector('.modal-backdrop').classList.add('hidden');\r\n    })})\r\n\r\n    e.target.elements.Username.value = \"\";\r\n    e.target.elements.url.value = \"\";\r\n  });\r\n\r\n\r\ndocument.querySelector('.posts').addEventListener('click', (e) => {\r\n    if (e.target.closest('.like-button')){\r\n        const likeButton = e.target.closest('.like-button')\r\n        const postCard = likeButton.closest('.post-card');\r\n        const postId = postCard.dataset.id;\r\n        const likesElement = postCard.querySelector('.likes-p');\r\n        let likes = Number(likesElement.textContent);\r\n\r\n        if (likeButton.classList.contains('.liked')) return;\r\n\r\n        likes += 1;\r\n        likesElement.textContent = likes;\r\n        likeButton.classList.add('.liked'); \r\n        updateLikes(likes, postId)\r\n    };\r\n});\r\n\r\ndocument.querySelector('.posts').addEventListener('click', (e) => {\r\n    if (e.target.closest('.delete')){\r\n        const postCard = e.target.closest('.post-card');\r\n        const id = postCard.getAttribute('data-id'); \r\n        deletePost(id).then(() => {\r\n            getPosts().then((data) => {\r\n                console.log(data);\r\n                document.querySelector(\".posts\").innerHTML = render(data);\r\n            })})\r\n    }}\r\n)\r\n\r\n\r\n\r\n\r\nlet postId = null\r\ndocument.querySelector('.posts').addEventListener('click', (e) => {\r\n  if (e.target.closest('.edit')) {\r\n    const postCard = e.target.closest('.edit').closest('.post-card');\r\n    postId = postCard.dataset.id;\r\n\r\n    document.querySelector('#username').value = postCard.querySelector('.user').textContent;\r\n    document.querySelector('#url').value = postCard.querySelector('.photo-post').src;\r\n\r\n    document.querySelector('.modal-backdropEdit').classList.remove('hidden');\r\n  }\r\n});\r\n\r\nconsole.log(postId)\r\n\r\ndocument.querySelector('.edit-button').addEventListener('click', () => {\r\n  const updatedPost = {\r\n        userName: document.querySelector('#username').value,\r\n        imageUrl: document.querySelector('#url').value,\r\n    };\r\n    console.log(updatedPost)\r\n    console.log(postId)\r\n    updatePost(updatedPost, postId).then(() => getPosts()).then((data) => {\r\n        document.querySelector(\".posts\").innerHTML = render(data);\r\n        document.querySelector('.modal-backdropEdit').classList.add('hidden');\r\n    })\r\n        .catch(error => {\r\n            console.error('Error updating post:', error);\r\n    });\r\n})\r\n\r\n\r\n\r\n","export default function render(posts) {\r\n    const objectChange = posts\r\n    .map((object) => {\r\n    const newObject = `\r\n    <li class=\"post-card\" data-id=\"${object.id}\">\r\n    <img class=\"photo-post\" src=\"${object.imageUrl}\" alt=\"photo\" />\r\n        <p class=\"user\">${object.userName}</p>\r\n        <div class=\"stats\">\r\n            <p id=\"like\" class=\"stats-item\">\r\n                <button class=\"like-button\"><i class=\"material-icons\">thumb_up</i></button>\r\n                <span class=\"likes-p\">${object.likes}</span>\r\n            </p>\r\n            <p id=\"comment\" class=\"stats-item\">\r\n                <button class=\"comment-button\"><i class=\"material-icons\">comment</i></button>\r\n                ${object.comments}\r\n            </p>\r\n        </div>\r\n        <button type=\"click\" class=\"edit\">Edit</button>\r\n        <button type=\"click\" class=\"delete\">Delete</button>\r\n    </li>\r\n    `;\r\n    return newObject;\r\n    })\r\n\r\n    .join(\"\");\r\n    return objectChange;\r\n}","export default async function getPosts () {\r\n  try {\r\n    return await fetch(\"https://6882a21521fa24876a9b6374.mockapi.io/posts\")\r\n    .then((res) => res.json())\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n};","export default async function addPost(post) {\r\n  try {\r\n    return await fetch(\"https://6882a21521fa24876a9b6374.mockapi.io/posts\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify(post),\r\n        headers: {\r\n        \"Content-Type\": \"application/json; charset=UTF-8\",\r\n        }\r\n    }).then((res) => res.json())\r\n  } catch (error) {\r\n    console.log(error)\r\n}\r\n}","export default async function updatePost(postData, id) {\r\n  try {\r\n    return await fetch(`https://6882a21521fa24876a9b6374.mockapi.io/posts/${id}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n        'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(postData)\r\n    }).then((res) => res.json())\r\n  } catch (error) {\r\n    if (!res.ok) throw new Error(\"Failed to update post\");\r\n    return res.json();\r\n}\r\n}\r\n\r\n\r\n","export default async function deletePost(id){\r\n  try {\r\n    return await fetch(`https://6882a21521fa24876a9b6374.mockapi.io/posts/${id}`, {\r\n        method: \"DELETE\",\r\n    });\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n};","export default async function updateLikes(likes, id) {\r\n  try {\r\n    return await fetch(`https://6882a21521fa24876a9b6374.mockapi.io/posts/${id}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n        'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ likes: likes })\r\n    }).then((res) => res.json())\r\n  } catch (error) {\r\n    console.log(error)\r\n}\r\n}"],"names":["$7fdb1a51114ea38b$export$2e2bcd8739ae039","posts","map","object","id","imageUrl","userName","likes","comments","join","$22b8530da6846ac4$export$2e2bcd8739ae039","fetch","then","res","json","error","console","log","$ce473e9f5c47e611$export$2e2bcd8739ae039","post","method","body","JSON","stringify","headers","$5c069ed34b67705e$export$2e2bcd8739ae039","postData","res1","ok","Error","$664319a40c8061e6$export$2e2bcd8739ae039","$eae13960f3cf2c04$export$2e2bcd8739ae039","document","querySelector","addEventListener","classList","remove","add","data","innerHTML","e","preventDefault","target","elements","url","value","postObject","Username","closest","likeButton","postCard","postId","dataset","likesElement","Number","textContent","contains","getAttribute","$3fba0bda95caa784$var$postId","src","updatedPost","catch"],"version":3,"file":"mini-projectCrud.598bd123.js.map"}